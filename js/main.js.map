{"version":3,"sources":["js/submitForm.js"],"names":["submitForm","manageForm","target","form","id","value","validateForm","name","tel","nameRegex","RegExp","telRegex","test","get","document","getElementById","bind","formElement","onsubmit","e","preventDefault","nameElement","telElement","buttonElement","forEach","addEventListener","action","Error","remove","contactElement","modalElement","createElement","classList","add","titleModalElement","innerText","info","title","paragraphModalElement","content","appendChild","setTimeout","createResponseModal"],"mappings":"AAAA,MAAAA,WAAA,KACA,MAAAC,EAAA,CAAA,CAAAC,OAAAA,MACAC,EAAAD,EAAAE,IAAAF,EAAAG,MACAC,EAAAH,EAAAI,KAAAJ,EAAAK,MAGAF,EAAA,CAAAC,EAAAC,KACA,MAAAC,EAAAC,OAAA,kBACAC,EAAAD,OAAA,mCAEA,SAAAD,EAAAG,KAAAL,KAAAI,EAAAC,KAAAJ,KAuCAK,EAAAC,SAAAC,eAAAC,KAAAF,UAEAG,EAAAJ,EAAA,QACAI,EAAAC,SAAA,GAAAC,EAAAC,iBAEA,MAAAC,EAAAR,EAAA,QACAS,EAAAT,EAAA,OAEAU,EAAAV,EAAA,UAEAV,EAAA,CACAI,KAAAc,EAAAhB,MACAG,IAAAc,EAAAjB,OAGA,CAAA,QAAA,SAAA,QAAAmB,QAAA,IACAH,EAAAI,iBAAAC,EAAA,GAAAzB,EAAAkB,IACAG,EAAAG,iBAAAC,EAAA,GAAAzB,EAAAkB,MAGAI,EAAAE,iBAAA,QAAA,KACAnB,EAAAH,EAAAI,KAAAJ,EAAAK,OArDA,IACA,IACA,GAAA,OAAAM,SAAAC,eAAA,iBAAA,MAAA,IAAAY,MACA,MACAb,SAAAC,eAAA,iBAAAa,SACA,QACA,MAAAC,EAAAf,SAAAC,eAAA,WAEAe,EAAAhB,SAAAiB,cAAA,SAEAD,EAAAE,UAAAC,IAAA,SACAH,EAAA1B,GAAA,gBAEA,MAAA8B,EAAApB,SAAAiB,cAAA,MACAG,EAAAC,UAAAC,EAAAC,MACAH,EAAAF,UAAAC,IAAA,gBAEA,MAAAK,EAAAxB,SAAAiB,cAAA,KACAO,EAAAH,UAAAC,EAAAG,QACAD,EAAAN,UAAAC,IAAA,kBAEAH,EAAAU,YAAAN,GACAJ,EAAAU,YAAAF,GAEAT,EAAAW,YAAAV,GAEAW,WAAA,KACAX,EAAAF,UACA,OAmDAc,CAJA,CACAL,+BAAAlC,EAAAI,QACAgC,QAAA,uCAMAvC","file":"main.js","sourcesContent":["const submitForm = () => {\r\n  const manageForm = ({ target }) => {\r\n    form[target.id] = target.value;\r\n    validateForm(form.name, form.tel);\r\n  };\r\n\r\n  const validateForm = (name, tel) => {\r\n    const nameRegex = RegExp(/^[A-zÀ-ú '´]*$/);\r\n    const telRegex = RegExp(/^\\([0-9]{2}\\) [0-9]{5} [0-9]{4}/);\r\n\r\n    if (nameRegex.test(name) && telRegex.test(tel)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const createResponseModal = (info) => {\r\n    try {\r\n      if (document.getElementById(\"contact-modal\") !== null) throw new Error();\r\n    } catch {\r\n      document.getElementById(\"contact-modal\").remove();\r\n    } finally {\r\n      const contactElement = document.getElementById(\"contact\");\r\n\r\n      const modalElement = document.createElement(\"aside\");\r\n\r\n      modalElement.classList.add(\"modal\");\r\n      modalElement.id = \"contact-modal\";\r\n\r\n      const titleModalElement = document.createElement(\"h1\");\r\n      titleModalElement.innerText = info.title;\r\n      titleModalElement.classList.add(\"modal__title\");\r\n\r\n      const paragraphModalElement = document.createElement(\"p\");\r\n      paragraphModalElement.innerText = info.content;\r\n      paragraphModalElement.classList.add(\"modal__content\");\r\n\r\n      modalElement.appendChild(titleModalElement);\r\n      modalElement.appendChild(paragraphModalElement);\r\n\r\n      contactElement.appendChild(modalElement);\r\n\r\n      setTimeout(() => {\r\n        modalElement.remove();\r\n      }, 5000);\r\n    }\r\n  };\r\n\r\n  const get = document.getElementById.bind(document);\r\n\r\n  const formElement = get(\"form\");\r\n  formElement.onsubmit = (e) => e.preventDefault();\r\n\r\n  const nameElement = get(\"name\");\r\n  const telElement = get(\"tel\");\r\n\r\n  const buttonElement = get(\"submit\");\r\n\r\n  const form = {\r\n    name: nameElement.value,\r\n    tel: telElement.value,\r\n  };\r\n\r\n  [\"keyup\", \"change\", \"blur\"].forEach((action) => {\r\n    nameElement.addEventListener(action, (e) => manageForm(e));\r\n    telElement.addEventListener(action, (e) => manageForm(e));\r\n  });\r\n\r\n  buttonElement.addEventListener(\"click\", () => {\r\n    if (validateForm(form.name, form.tel)) {\r\n      // fetch(\"https://api.muitofodamesmo.com/clients-list\", {\r\n      //   method: \"POST\",\r\n      //   headers: {\r\n      //     \"Content-Type\": \"application/json\",\r\n      //   },\r\n      //   body: JSON.stringify(form),\r\n      // })\r\n      //   .then((r) => {\r\n      //     const info = {\r\n      //       title: \"Sua solicitação foi enviada com sucesso!\",\r\n      //       content: `Entraremos em contato logo, ${form.name}.`,\r\n      //     };\r\n      //     createResponseModal(r);\r\n      //   })\r\n      //   .catch((r) => {\r\n      //     const info = {\r\n      //       title: \"Um erro aconteceu.\",\r\n      //       content: r,\r\n      //     };\r\n      //     createResponseModal(info);\r\n      //   });\r\n      const info = {\r\n        title: `Recebemos seu contato ${form.name}.`,\r\n        content: \"Entraremos em contato em breve!\",\r\n      };\r\n      createResponseModal(info);\r\n    }\r\n  });\r\n};\r\nsubmitForm();\r\n"]}